{"version":3,"file":"static/js/314.73d79367.chunk.js","mappings":"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","sources":["components/CarsFormEditCar/CarsFormEditCar.jsx"],"sourcesContent":["import { useState, lazy, Suspense } from \"react\";\nimport { toast, Flip } from \"react-toastify\";\nimport { Spinner, Button, Modal } from \"react-bootstrap\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./carsFormEditCar.css\";\nconst CarsFormEditCarInputsWrapper = lazy(() =>\n    import(\"../CarsFormEditCarInputsWrapper\")\n);\n\nconst CarsFormEditCar = ({ originalData, car, updateDataLS }) => {\n    const [showEdit, setShowEdit] = useState(false);\n    const [inputNewCarCompanyEdit, setInputNewCarCompanyEdit] = useState(\n        car.car\n    );\n    const [inputNewCarModelEdit, setInputNewCarModelEdit] = useState(\n        car.car_model\n    );\n    const [inputNewCarVINEdit, setInputNewCarVINEdit] = useState(car.car_vin);\n    const [inputNewCarYearEdit, setInputNewCarYearEdit] = useState(\n        car.car_model_year\n    );\n    const [inputNewCarColorEdit, setInputNewCarColorEdit] = useState(\n        car.car_color\n    );\n    const [inputNewCarPriceEdit, setInputNewCarPriceEdit] = useState(car.price);\n\n    const [inputNewCarAvailabilityEdit, setInputNewCarAvailabilityEdit] =\n        useState(Boolean(car.availability));\n\n    const handleCloseEdit = () => {\n        setShowEdit(false);\n    };\n\n    const handleShowEdit = () => {\n        setShowEdit(true);\n    };\n\n    const controlledInputNewCarCompanyEdit = (event) => {\n        const inputValue = event.target.value;\n        const filteredValue = inputValue.replace(/[^A-Za-z0-9\\s]|^\\s/g, \"\");\n        const truncatedValue = filteredValue.slice(0, 20);\n        setInputNewCarCompanyEdit(truncatedValue);\n    };\n\n    const controlledInputNewCarModelEdit = (event) => {\n        const inputValue = event.target.value;\n        const filteredValue = inputValue.replace(/[^A-Za-z0-9\\s]|^\\s/g, \"\");\n        const truncatedValue = filteredValue.slice(0, 15);\n        setInputNewCarModelEdit(truncatedValue);\n    };\n\n    const controlledInputNewCarVINEdit = (event) => {\n        const value = event.target.value;\n        const formattedValue = value\n            .replace(/[^A-Za-z0-9]/g, \"\")\n            .toUpperCase()\n            .slice(0, 20);\n        setInputNewCarVINEdit(formattedValue);\n    };\n\n    const controlledInputNewCarYearEdit = (event) => {\n        const value = event.target.value;\n        const formattedValue = value.replace(/\\D/g, \"\").slice(0, 4);\n        setInputNewCarYearEdit(formattedValue);\n    };\n\n    const controlledInputNewCarColorEdit = (event) => {\n        const inputValue = event.target.value;\n        const filteredValue = inputValue.replace(/[^A-Za-z0-9]/g, \"\");\n        const truncatedValue = filteredValue.slice(0, 15);\n        setInputNewCarColorEdit(truncatedValue);\n    };\n\n    const controlledInputNewCarPriceEdit = (event) => {\n        let value = event.target.value;\n        value = value.replace(/\\$/g, \"\");\n        let formattedValue = value.replace(/[^0-9.]/g, \"\");\n        if (formattedValue.length === 1 && formattedValue[0] === \".\") {\n            formattedValue = \"\";\n        }\n        if (formattedValue.split(\".\").length > 2) {\n            formattedValue = formattedValue.slice(0, -1);\n        }\n        setInputNewCarPriceEdit(formattedValue);\n    };\n\n    const controlledInputNewCarAvailabilityEdit = () => {\n        const value = !inputNewCarAvailabilityEdit;\n        setInputNewCarAvailabilityEdit(value);\n    };\n\n    const showSuccesEditMessage = () => {\n        toast.success(\"Changes Saved\", {\n            transition: Flip,\n            position: \"top-right\",\n        });\n    };\n\n    const editCar = () => {\n        if (\n            inputNewCarColorEdit.length > 0 &&\n            inputNewCarPriceEdit.length > 0\n        ) {\n            const editedCarObject = {\n                id: car.id,\n                car: car.car,\n                car_model: car.car_model,\n                car_color: inputNewCarColorEdit,\n                car_model_year: +inputNewCarYearEdit,\n                car_vin: car.car_vin,\n                availability: inputNewCarAvailabilityEdit ? true : false,\n                price:\n                    inputNewCarPriceEdit.charAt(0) === \"$\"\n                        ? `$${\n                              Math.round(\n                                  +inputNewCarPriceEdit.substring(1) * 100\n                              ) / 100\n                          }`\n                        : `$${Math.round(+inputNewCarPriceEdit * 100) / 100}`,\n            };\n            const indexEditedCar = originalData.cars.findIndex(\n                (editedCar) => editedCar.id === car.id\n            );\n            const updatedArrayAfterEdit = [\n                ...originalData.cars.slice(0, indexEditedCar),\n                editedCarObject,\n                ...originalData.cars.slice(indexEditedCar + 1),\n            ];\n            updateDataLS({ cars: updatedArrayAfterEdit });\n            showSuccesEditMessage();\n        }\n    };\n\n    return (\n        <>\n            <Button variant=\"primary\" onClick={handleShowEdit}>\n                Edit Car\n            </Button>\n            <Modal show={showEdit} onHide={handleCloseEdit}>\n                <Suspense\n                    fallback={\n                        <div className=\"spinner-lazy-load d-flex justify-content-center align-items-center\">\n                            <Spinner animation=\"border\" />\n                        </div>\n                    }\n                >\n                    <Modal.Header closeButton>\n                        <Modal.Title>Edit Car</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <CarsFormEditCarInputsWrapper\n                            inputNewCarCompanyEdit={inputNewCarCompanyEdit}\n                            controlledInputNewCarCompanyEdit={\n                                controlledInputNewCarCompanyEdit\n                            }\n                            inputNewCarModelEdit={inputNewCarModelEdit}\n                            controlledInputNewCarModelEdit={\n                                controlledInputNewCarModelEdit\n                            }\n                            inputNewCarVINEdit={inputNewCarVINEdit}\n                            controlledInputNewCarVINEdit={\n                                controlledInputNewCarVINEdit\n                            }\n                            inputNewCarYearEdit={inputNewCarYearEdit}\n                            controlledInputNewCarYearEdit={\n                                controlledInputNewCarYearEdit\n                            }\n                            inputNewCarColorEdit={inputNewCarColorEdit}\n                            controlledInputNewCarColorEdit={\n                                controlledInputNewCarColorEdit\n                            }\n                            inputNewCarPriceEdit={inputNewCarPriceEdit}\n                            controlledInputNewCarPriceEdit={\n                                controlledInputNewCarPriceEdit\n                            }\n                            inputNewCarAvailabilityEdit={\n                                inputNewCarAvailabilityEdit\n                            }\n                            controlledInputNewCarAvailabilityEdit={\n                                controlledInputNewCarAvailabilityEdit\n                            }\n                        />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleCloseEdit}>\n                            Close\n                        </Button>\n                        <Button\n                            variant=\"primary\"\n                            onClick={() => {\n                                handleCloseEdit();\n                                editCar();\n                            }}\n                        >\n                            Save Changes\n                        </Button>\n                    </Modal.Footer>\n                </Suspense>\n            </Modal>\n        </>\n    );\n};\n\nexport default CarsFormEditCar;\n"],"names":["CarsFormEditCarInputsWrapper","lazy","originalData","car","updateDataLS","useState","showEdit","setShowEdit","inputNewCarCompanyEdit","setInputNewCarCompanyEdit","car_model","inputNewCarModelEdit","setInputNewCarModelEdit","car_vin","inputNewCarVINEdit","setInputNewCarVINEdit","car_model_year","inputNewCarYearEdit","setInputNewCarYearEdit","car_color","inputNewCarColorEdit","setInputNewCarColorEdit","price","inputNewCarPriceEdit","setInputNewCarPriceEdit","Boolean","availability","inputNewCarAvailabilityEdit","setInputNewCarAvailabilityEdit","handleCloseEdit","editCar","length","editedCarObject","id","charAt","Math","round","substring","indexEditedCar","cars","findIndex","editedCar","updatedArrayAfterEdit","slice","toast","transition","Flip","position","Button","variant","onClick","Modal","show","onHide","Suspense","fallback","className","Spinner","animation","closeButton","controlledInputNewCarCompanyEdit","event","truncatedValue","target","value","replace","controlledInputNewCarModelEdit","controlledInputNewCarVINEdit","formattedValue","toUpperCase","controlledInputNewCarYearEdit","controlledInputNewCarColorEdit","controlledInputNewCarPriceEdit","split","controlledInputNewCarAvailabilityEdit"],"sourceRoot":""}